<div style="margin-bottom: 16px;">
  <a routerLink="/translation">Переводы</a>
</div>

<div>
  <table mat-table [dataSource]="preOrders" class="mat-elevation-z8">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>№ заказа</th>
      <td mat-cell *matCellDef="let element"> {{element.id | number: '3.0-0'}} </td>
    </ng-container>
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef>Дата заказа</th>
      <td mat-cell *matCellDef="let element"> {{element.date | date: 'dd.MM.yyyy HH:mm'}} </td>
    </ng-container>
    <ng-container matColumnDef="phone">
      <th mat-header-cell *matHeaderCellDef>Телефон</th>
      <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
    </ng-container>
    <ng-container matColumnDef="userEmail">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let element"> {{element.userEmail}} </td>
    </ng-container>
    <ng-container matColumnDef="volume">
      <th mat-header-cell *matHeaderCellDef>V вес</th>
      <td mat-cell *matCellDef="let element"> {{element.product.volume}} </td>
    </ng-container>
    <ng-container matColumnDef="weight">
      <th mat-header-cell *matHeaderCellDef>Физ. вес</th>
      <td mat-cell *matCellDef="let element"> {{element.product.weight}} </td>
    </ng-container>
    <ng-container matColumnDef="supplierName">
      <th mat-header-cell *matHeaderCellDef>Поставщик</th>
      <td mat-cell *matCellDef="let element"> {{getSupplierName(element.product.sourceId)}} </td>
    </ng-container>
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef>Цена поставщика, USD</th>
      <td mat-cell *matCellDef="let element"> {{element.product.price | intCurrency}} </td>
    </ng-container>
    <ng-container matColumnDef="deliveryCost">
      <th mat-header-cell *matHeaderCellDef>Стоимость доставки</th>
      <td mat-cell *matCellDef="let element"> {{element.product.deliveryCost | intCurrency}} </td>
    </ng-container>
    <ng-container matColumnDef="extraCharge">
      <th mat-header-cell *matHeaderCellDef>Размер наценки</th>
      <td mat-cell *matCellDef="let element"> {{element.product.extraCharge | intCurrency}} </td>
    </ng-container>
    <ng-container matColumnDef="deliveryOrderStatus">
      <th mat-header-cell *matHeaderCellDef>Статус заказа от поставщика</th>
      <td mat-cell *matCellDef="let element"></td>
    </ng-container>
    <ng-container matColumnDef="clientOrderStatus">
      <th mat-header-cell *matHeaderCellDef>Статус заказа для клиента</th>
      <td mat-cell *matCellDef="let element">{{element.clientStatusName}}</td>
    </ng-container>
    <ng-container matColumnDef="partNumber">
      <th mat-header-cell *matHeaderCellDef>Part Number</th>
      <td mat-cell *matCellDef="let element">{{element.product.partNumber}}</td>
    </ng-container>
    <ng-container matColumnDef="manufacturer">
      <th mat-header-cell *matHeaderCellDef>Производитель</th>
      <td mat-cell *matCellDef="let element">{{element.product.manufacturer}}</td>
    </ng-container>
    <ng-container matColumnDef="priceRub">
      <th mat-header-cell *matHeaderCellDef>Цена, руб</th>
      <td mat-cell *matCellDef="let element">{{element.product.priceRub | intCurrency}}</td>
    </ng-container>
    <ng-container matColumnDef="deliveryMin">
      <th mat-header-cell *matHeaderCellDef>Срок поставки</th>
      <td mat-cell *matCellDef="let element">{{element.product.deliveryMin}}</td>
    </ng-container>
    <ng-container matColumnDef="cmd">
      <th mat-header-cell *matHeaderCellDef>KKK</th>
      <td mat-cell *matCellDef="let element">
        <div class="cmd-btn-container">
          <button mat-mini-fab color="primary" (click)="openStatusDialog(element)" matTooltip="Изменить статус">
            <mat-icon>settings</mat-icon>
          </button>
          <button mat-mini-fab color="warn" (click)="openDialog(element.id)" matTooltip="Создать реальный ордер">
            <mat-icon>bolt</mat-icon>
          </button>
        </div>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayCols"></tr>
    <tr mat-row *matRowDef="let row; columns: displayCols;"></tr>
  </table>

	<mat-spinner *ngIf="inProgress"></mat-spinner>
</div>